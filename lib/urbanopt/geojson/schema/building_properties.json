{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://json-schema.org/openstudio-urban-modeling/building_properties.json#",
  "title": "Building object",
  "description": "Schema for a Building object",
  "type": "object",
  "properties": {
    "id": {
      "FIXME": "may be there, type not known (string? number?)",
      "description": "Unique id used to refer to this feature within this dataset, generated by database.",
      "type": "string"
    },
    "project_id": {
      "description": "Project which this feature belongs to, managed by the database.",
      "type": "string"
    },
    "created_at": {
      "description": "Generated by database, YYYY-MM-DDTHH:MM:SS.SSSZ",
      "type": "string"
    },
    "updated_at": {
      "description": "Generated by database, YYYY-MM-DDTHH:MM:SS.SSSZ",
      "type": "string"
    },
    "geojson_id": {
      "description": "Id of the geojson for this feature, managed by the database.",
      "type": "string"
    },
    "type": {
      "description": "Type of feature.",
      "type": "string",
      "enum": [
        "Building",
        "Taxlot",
        "Region",
        "District System",
        "Connector"
      ]
    },
    "source_name": {
      "description": "Name of the original data source.",
      "type": "string"
    },
    "source_id": {
      "description": "Id of the feature in original data source.",
      "type": "string"
    },
    "name": {
      "description": "Feature name.",
      "type": "string"
    },
    "legal_name": {
      "description": "Legal name used to identify this feature.",
      "type": "string"
    },
    "address": {
      "description": "Street address.",
      "type": "string"
    },
    "building_status": {
      "description": "Building status.",
      "type": "string",
      "enum": [
        "Proposed",
        "Existing"
      ]
    },
    "include_in_energy_analysis": {
      "description": "Include this building's energy use and cost in the analysis. Defaults to true.",
      "type": "boolean"
    },
    "weather_filename": {
      "description": "Name of the EPW weather file for this building.  Defaults to site's weather_filename.",
      "type": "string"
    },
    "tariff_filename": {
      "description": "Name of the tariff file for this building.  Defaults to site's tariff_filename.",
      "type": "string"
    },
    "surface_elevation": {
      "description": "The surface elevation (above NAVD88 datum) of the building (ft).  This is the elevation of the ground at the building location, any below ground stories will be lower than this. Defaults to site's surface_elevation.",
      "type": "number"
    },
    "floor_area": {
      "description": "Usable floor area (ft^2).",
      "type": "number"
    },
    "building_type": {
      "$ref": "#/definitions/buildingType"
    },
    "mixed_type_1": {
      "$ref": "#/definitions/buildingType"
    },
    "mixed_type_1_percentage": {
      "description": "Percentage of 1st mixed building space type. Only used when building_type is Mixed use.",
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "mixed_type_2": {
      "$ref": "#/definitions/buildingType"
    },
    "mixed_type_2_percentage": {
      "description": "Percentage of 2nd mixed building space type. Only used when building_type is Mixed use.",
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "mixed_type_3": {
      "$ref": "#/definitions/buildingType"
    },
    "mixed_type_3_percentage": {
      "description": "Percentage of 3rd mixed building space type. Only used when building_type is Mixed use.",
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "mixed_type_4": {
      "$ref": "#/definitions/buildingType"
    },
    "mixed_type_4_percentage": {
      "description": "Percentage of 4th mixed building space type. Only used when building_type is Mixed use.",
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "number_of_stories": {
      "description": "The maximum number of building stories, sum of number of above and below ground stories.",
      "type": "integer"
    },
    "number_of_stories_above_ground": {
      "description": "The number of building stories above ground. Defaults to number_of_stories.",
      "type": "integer"
    },
    "number_of_residential_units": {
      "description": "Total number of residential units in the building. Required for residential buildings or mixed-use buildings with residential use types.",
      "type": "integer"
    },
    "maximum_roof_height": {
      "description": "Maximum height of the roof relative to surface elevation (ft)",
      "type": "number"
    },
    "roof_type": {
      "description": "The basic roof geometry. Defaults to flat.",
      "type": "string",
      "enum": [
        "Flat",
        "Gable",
        "Hip"
      ]
    },
    "year_built": {
      "description": "The year construction of the building was completed. Defaults to current year.",
      "type": "integer"
    },
    "footprint_area": {
      "description": "Area of the footprint (ft^2).  Calculated on export.",
      "type": "number"
    },
    "footprint_perimeter": {
      "description": "Perimeter of the footprint (ft). Calculated on export.",
      "type": "number"
    },
    "power_factor": {
      "type": "number"
    },
    "transformer": {
      "type": "string"
    },
    "hvac_heating_source": {
      "type": "string",
      "enum": [
        "Electricity",
        "NaturalGas",
        "None"
      ]
    },
    "hvac_cooling_source": {
      "type": "string",
      "enum": [
        "Electricity",
        "None"
      ]
    },
    "exclude_hvac": {
      "type": "boolean"
    }
  },
  "required": [
    "type",
    "floor_area",
    "building_type",
    "number_of_stories"
  ],
  "definitions": {
    "buildingType": {
      "description": "Primary building space type.",
      "type": "string",
      "enum": [
        "Single-Family",
        "Multifamily (2 to 4 units)",
        "Multifamily (5 or more units)",
        "Mobile Home",
        "Vacant",
        "Office",
        "Laboratory",
        "Nonrefrigerated warehouse",
        "Food sales",
        "Public order and safety",
        "Outpatient health care",
        "Refrigerated warehouse",
        "Religious worship",
        "Public assembly",
        "Education",
        "Food service",
        "Inpatient health care",
        "Nursing",
        "Lodging",
        "Strip shopping mall",
        "Enclosed mall",
        "Retail other than mall",
        "Service",
        "Mixed use"
      ]
    }
  }
}