{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://json-schema.org/openstudio-urban-modeling/district_system_properties.json#",
  "title": "URBANopt Electrical Line",
  "description": "Schema for an URBANopt Electrical Line object",
  "type": "object",
  "properties": {
    "id": {
      "description": "Unique id used to refer to this feature within this dataset.",
      "type": "string"
    },
    "project_id": {
      "description": "Project which this feature belongs to.",
      "type": "string"
    },
    "type": {
      "description": "Type of feature.",
      "type": "string",
      "enum": [
        "ElectricalLine"
      ]
    },
    "source_name": {
      "description": "Name of the original data source.",
      "type": "string"
    },
    "source_id": {
      "description": "Id of the feature in original data source.",
      "type": "string"
    },
    "name": {
      "description": "Feature name",
      "type": "string"
    },
    "connector_type": {
      "$ref": "#/definitions/ElectricalLineType"
    },
    "lengths": {
      "description": "Length (ft) of each segment, generated on export.",
      "type": "array",
      "items": {
        "type": "number"
      }
    },
    "total_length": {
      "description": "Total length (ft) of the line, generated on export.",
      "type": "number"
    },
    "start_junction_id": {
      "description": "Id of the junction that this line starts at.",
      "type": "string"
    },
    "line_properties":{
        "description": "A sub-element containing all the attributes that can be assigned to a line, including wires",
        "type":"object",
        "properties":{

            "is_switch":{"type":"boolean","description":"Flag indicating if the line is a switch or not"},
            "is_fuse":{"type":"boolean","description":"Flag indicating if the line is a fuse or not"},
            "is_open":{"type":"boolean","description":"Flag indicating if the switch/fuse is a open or not"}
        }
    },

    "wires": {
        "description": "Array of wires that are on the line",
        "type": "array",
        "items": {
            "$ref": "#/definitions/WireType",
            "type": "string"
        }
    },

    "end_junction_id": {
      "description": "Id of the junction that this line ends at.",
      "type": "string"
    },
    "user_data": {
      "description": "Arbitrary user data"
    }
  },
  "required": [
    "type",
    "id",
    "connector_type",
    "start_junction_id",
    "end_junction_id"
  ],
  "additionalProperties": false,
  "definitions": {
    "ElectricalLineType": {
      "description": "Type of electrical line",
      "type": "string",
      "enum": [
        "Line"
      ]
    },
    "WireType": {
      "description": "Type of wire used",
      "type": "string",
      "enum": [
        "OH TPLX #4",
        "OH TPLX 1/0",
        "OH TPLX 2/0",
        "OH TPLX 4/0",
        "OH AL #2",
        "OH AL #4",
        "OH AL 1/0",
        "OH AL 2/0",
        "OH AL 4/0",
        "OH AL 336kcmil",
        "OH AL 477kcmil",
        "OH AL 795kcmil",
        "UG TPLX #4",
        "UG TPLX 1/0",
        "UG TPLX 2/0",
        "UG TPLX 4/0",
        "UG AL #2",
        "UG AL #4",
        "UG AL 1/0",
        "UG AL 2/0",
        "UG AL 4/0",
        "UG AL 350kcmil",
        "UG AL 500kcmil",
        "UG AL 750kcmil",
        "UG AL 1000kcmil"

      ]
    }
}
